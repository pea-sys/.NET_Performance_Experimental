# List の Capacity セットによるパフォーマンス

リストのメモリ割り当てを先に行っておくと、パフォーマンスが向上するという説があるので確かめてみました。  
結論としては、ケースバイケースなので、敢えて割り当てを先に行っておく必要はなさそう。特に Capacity が大きければ大きい程、
事前割り当て時の動作は著しく遅くなる。一方、Capacity が小さい場合、事前割り当ての効果はあるが、どちらも十分に早いので Capacity の保守コストを考えると事前割り当ては必要ないと結論づけた。

| Method             |           Mean |          Error |       StdDev |            Min |            Max |
| ------------------ | -------------: | -------------: | -----------: | -------------: | -------------: |
| UseCapacityInt     | 2,069,737.6 us | 1,147,285.5 us | 62,886.59 us | 1,999,875.1 us | 2,121,819.5 us |
| NoUseCapacityInt   |   244,463.4 us |   311,781.0 us | 17,089.77 us |   230,893.9 us |   263,656.3 us |
| UseCapacityShort   |       541.1 us |     1,308.1 us |     71.70 us |       499.4 us |       623.9 us |
| NoUseCapacityShort |       553.0 us |       212.0 us |     11.62 us |       540.2 us |       562.8 us |

尚、List の Capacity の初期値は 4 で、そこから超過していく毎に倍のメモリが割り当てられます。
